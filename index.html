<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apple of Fortune - AI Trading Signals</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, sans-serif;
        }
        
        body {
            background: #000000 !important;
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
            padding: 15px;
            position: relative;
            line-height: 1.5;
        }

        /* Background effects - Qora fonda oqish matnlar */
        .nebula-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(0, 100, 255, 0.05) 0%, transparent 30%),
                radial-gradient(circle at 70% 60%, rgba(0, 150, 255, 0.03) 0%, transparent 25%),
                radial-gradient(circle at 40% 80%, rgba(0, 200, 255, 0.02) 0%, transparent 20%);
            z-index: -3;
            pointer-events: none;
            animation: nebula-pulse 20s infinite alternate;
        }

        @keyframes nebula-pulse {
            0% { opacity: 0.5; }
            100% { opacity: 0.8; }
        }

        .network-grid {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(0, 100, 255, 0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 100, 255, 0.05) 1px, transparent 1px);
            background-size: 40px 40px;
            z-index: -2;
            opacity: 0.2;
            animation: grid-move 30s linear infinite;
        }

        @keyframes grid-move {
            0% { transform: translate(0, 0); }
            100% { transform: translate(40px, 40px); }
        }

        /* Language Selector */
        #languageSelector {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            padding: 20px;
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .language-logo {
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, #0066ff, #0099ff);
            border-radius: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 102, 255, 0.4);
            animation: logo-orbit 8s linear infinite;
        }

        @keyframes logo-orbit {
            0% { 
                transform: rotate(0deg) scale(1);
            }
            50% { 
                transform: rotate(180deg) scale(1.03);
            }
            100% { 
                transform: rotate(360deg) scale(1);
            }
        }

        .language-logo span {
            font-size: 50px;
            animation: apple-breathe 3s ease-in-out infinite;
        }

        @keyframes apple-breathe {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        #languageSelector h1 {
            font-size: 2.2rem;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #0066ff, #00ccff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 800;
            letter-spacing: -0.5px;
        }

        .language-buttons {
            display: flex;
            flex-direction: column;
            gap: 20px;
            width: 100%;
            max-width: 320px;
        }

        .lang-select-btn {
            background: rgba(0, 100, 255, 0.1);
            border: 1px solid rgba(0, 150, 255, 0.3);
            border-radius: 15px;
            padding: 18px 25px;
            color: #fff;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            backdrop-filter: blur(10px);
        }

        .lang-select-btn:hover {
            transform: translateY(-5px);
            border-color: #0066ff;
            background: rgba(0, 100, 255, 0.2);
        }

        /* Main Container */
        .container {
            max-width: 100%;
            margin: 0 auto;
            position: relative;
            z-index: 1;
            display: none;
            animation: slide-up 0.6s ease-out;
        }

        @keyframes slide-up {
            from { 
                opacity: 0; 
                transform: translateY(30px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }

        .container.active {
            display: block;
        }

        /* Language Switcher */
        .language-switcher {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 100, 255, 0.15);
            border: 1px solid rgba(0, 150, 255, 0.3);
            border-radius: 50px;
            padding: 12px 20px;
            color: #00ccff;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            z-index: 999;
            display: flex;
            align-items: center;
            gap: 10px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .language-switcher:hover {
            background: rgba(0, 100, 255, 0.25);
            transform: translateY(-2px);
        }

        /* Header - ASOSIY MENYU UCHUN */
        header {
            text-align: center;
            padding: 25px 20px;
            background: rgba(0, 100, 255, 0.1);
            border-radius: 20px;
            margin-bottom: 25px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 150, 255, 0.2);
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 200%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(0, 200, 255, 0.1), 
                transparent);
            animation: cyber-scan 4s linear infinite;
        }

        @keyframes cyber-scan {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        h1 {
            font-size: 2rem;
            margin-bottom: 12px;
            background: linear-gradient(135deg, #0066ff, #00ccff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 800;
            letter-spacing: -0.5px;
        }
        
        .subtitle {
            font-size: 1rem;
            color: rgba(200, 220, 255, 0.9);
            margin-bottom: 15px;
            line-height: 1.6;
            font-weight: 400;
            padding: 0 10px;
        }
        
        .apple-icon {
            font-size: 3.5rem;
            margin-bottom: 20px;
            animation: apple-float 6s ease-in-out infinite;
            background: linear-gradient(135deg, #0066ff, #0099ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        @keyframes apple-float {
            0%, 100% { 
                transform: translateY(0) rotate(0deg); 
            }
            33% { 
                transform: translateY(-10px) rotate(3deg); 
            }
            66% { 
                transform: translateY(5px) rotate(-3deg); 
            }
        }
        
        /* Cards */
        .card {
            background: rgba(0, 100, 255, 0.08);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 25px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 150, 255, 0.2);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .card:hover {
            transform: translateY(-5px);
            border-color: rgba(0, 200, 255, 0.3);
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #0066ff, #00ccff, #0066ff);
            background-size: 200% 100%;
            animation: border-flow 2s linear infinite;
        }

        @keyframes border-flow {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        
        .card h2 {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: #00ccff;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .card p {
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 20px;
            color: rgba(220, 240, 255, 0.95);
        }
        
        /* Form elements */
        .form-group {
            margin-bottom: 20px;
            position: relative;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #00ccff;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        input {
            width: 100%;
            padding: 15px 20px;
            border: none;
            border-radius: 15px;
            background: rgba(0, 50, 100, 0.2);
            color: white;
            font-size: 1rem;
            border: 1px solid rgba(0, 150, 255, 0.2);
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        input:focus {
            outline: none;
            border-color: #0066ff;
            background: rgba(0, 70, 150, 0.3);
        }
        
        input::placeholder {
            color: rgba(180, 220, 255, 0.5);
        }
        
        .error-message {
            color: #ff3366;
            font-size: 0.85rem;
            margin-top: 5px;
            display: none;
        }
        
        /* Buttons */
        .btn {
            display: block;
            width: 100%;
            padding: 16px;
            border: none;
            border-radius: 15px;
            color: white;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            margin-top: 10px;
            position: relative;
            overflow: hidden;
        }

        .btn:hover {
            transform: translateY(-3px);
        }
        
        .btn:active {
            transform: translateY(-1px);
        }
        
        .btn:disabled {
            background: #333;
            cursor: not-allowed;
            transform: none;
            opacity: 0.5;
            border-color: #555;
        }

        /* Button variants */
        .start-game-btn {
            background: linear-gradient(135deg, #0066ff, #0044cc);
            border: 1px solid rgba(0, 150, 255, 0.3);
        }

        .register-btn {
            background: linear-gradient(135deg, #0099ff, #0066cc);
            border: 1px solid rgba(0, 200, 255, 0.3);
        }

        .download-btn {
            background: linear-gradient(135deg, #00ccff, #0099cc);
            border: 1px solid rgba(0, 255, 255, 0.3);
        }

        .share-btn {
            background: linear-gradient(135deg, #6600ff, #4400cc);
            border: 1px solid rgba(150, 0, 255, 0.3);
        }

        .vip-signal-btn {
            background: linear-gradient(135deg, #ffcc00, #ff9900);
            border: 1px solid rgba(255, 204, 0, 0.3);
            color: #000;
            font-weight: 800;
        }

        /* YANGI: OLMA KORISH TUGMASI YASHIL RANG */
        .reveal-btn {
            background: linear-gradient(135deg, #00cc66, #009944) !important;
            border: 1px solid rgba(0, 255, 128, 0.3) !important;
        }

        .change-id-btn {
            background: linear-gradient(135deg, #ff3366, #cc0044);
            border: 1px solid rgba(255, 51, 102, 0.3);
            width: auto;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 14px 24px;
            margin-top: 15px;
            border-radius: 50px;
        }
        
        /* Action buttons container */
        .action-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .action-buttons .btn {
            margin: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 14px;
            border-radius: 12px;
        }

        /* Warning boxes */
        .warning {
            background: rgba(255, 204, 0, 0.1);
            border-left: 3px solid #ffcc00;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border: 1px solid rgba(255, 204, 0, 0.2);
        }
        
        .warning p {
            font-size: 0.95rem;
            margin-bottom: 10px;
            color: rgba(255, 255, 220, 0.95);
            line-height: 1.6;
        }
        
        /* Info boxes */
        .info-box {
            background: rgba(0, 200, 255, 0.1);
            border-left: 3px solid #00ccff;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border: 1px solid rgba(0, 200, 255, 0.2);
        }
        
        /* Apples container - MARKAZDA JOYLASHISH */
        .apples-container {
            display: flex;
            justify-content: center; /* MARKAZGA JOYLASHTIRISH */
            align-items: center;
            margin: 20px 0;
            flex-wrap: nowrap;
            gap: 8px; /* GAP KAMAYTIRILDI */
            padding: 15px;
            background: rgba(0, 50, 100, 0.1);
            border-radius: 20px;
            backdrop-filter: blur(5px);
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            width: 100%;
            border: 1px solid rgba(0, 150, 255, 0.15);
            scrollbar-width: thin;
            scrollbar-color: rgba(0, 150, 255, 0.3) rgba(0, 100, 255, 0.1);
        }
        
        /* Apple styles - MARKAZDA JOYLASHISH */
        .mystery-apple, .apple {
            width: 55px !important; /* KATTAROQ */
            height: 55px !important;
            min-width: 55px !important;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            flex-shrink: 0;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            cursor: pointer;
            margin: 0; /* MARGIN OLIB TASHLANDI */
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            overflow: hidden;
        }
        
        /* Mystery apple image */
        .mystery-apple {
            background-image: url('https://i.ibb.co/Gf3NcMDQ/maxresdefault.jpg');
            border: 2px solid rgba(0, 150, 255, 0.5);
            animation: mystery-drift 4s ease-in-out infinite;
        }

        @keyframes mystery-drift {
            0%, 100% { 
                transform: translateY(0) rotate(0deg) scale(1);
            }
            50% { 
                transform: translateY(-8px) rotate(5deg) scale(1.05);
            }
        }
        
        .apple {
            animation: apple-unveil 0.6s ease-out;
        }

        @keyframes apple-unveil {
            0% { 
                transform: scale(0) rotate(-180deg); 
                opacity: 0; 
            }
            100% { 
                transform: scale(1) rotate(0deg); 
                opacity: 1; 
            }
        }
        
        .apple:hover {
            transform: scale(1.1) translateY(-5px);
            border-color: #ffcc00;
        }
        
        /* Whole apple image */
        .apple.whole {
            background-image: url('https://i.pinimg.com/736x/6a/aa/19/6aaa196961f40afd21cf9d21824f137e.jpg');
            border: 2px solid #ffcc00;
        }
        
        /* Bitten apple image */
        .apple.bitten {
            background-image: url('https://i.ibb.co/m5sNvNPK/62cd09ea-de08-49b9-9fea-d0100c747423-2.jpg');
            border: 2px solid #00ff00;
        }

        /* Apple legend - YOZUVLAR OLIB TASHLANDI */
        .apple-legend {
            display: none !important;
        }

        /* Hidden class */
        .hidden {
            display: none !important;
        }
        
        /* Hacker animation */
        .hacker-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000000;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            flex-direction: column;
            backdrop-filter: blur(10px);
        }
        
        .matrix-code {
            color: #00ccff;
            font-family: 'Courier New', monospace;
            font-size: 1.2rem;
            text-align: center;
            margin-bottom: 30px;
            animation: matrix-glitch 0.8s infinite alternate;
            letter-spacing: 2px;
        }

        @keyframes matrix-glitch {
            0% { opacity: 0.7; }
            100% { opacity: 1; }
        }
        
        .progress-bar {
            width: 80%;
            height: 10px;
            background: rgba(0, 50, 100, 0.2);
            border-radius: 5px;
            overflow: hidden;
            margin: 25px 0;
            border: 1px solid rgba(0, 150, 255, 0.2);
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, #0066ff, #00ccff);
            background-size: 200% 100%;
            width: 0%;
            transition: width 2s ease;
        }
        
        /* Result messages */
        .result-message {
            text-align: center;
            padding: 20px;
            font-size: 1rem;
            margin: 20px 0;
            border-radius: 15px;
            line-height: 1.6;
            animation: message-appear 0.5s ease-out;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(0, 150, 255, 0.2);
        }

        @keyframes message-appear {
            0% { 
                transform: scale(0.9); 
                opacity: 0; 
            }
            100% { 
                transform: scale(1); 
                opacity: 1; 
            }
        }
        
        .success {
            background: rgba(0, 255, 100, 0.1);
            border-left: 3px solid #00ff66;
        }
        
        .failure {
            background: rgba(255, 51, 102, 0.1);
            border-left: 3px solid #ff3366;
        }
        
        /* User ID display */
        .user-id-display {
            background: rgba(0, 102, 255, 0.1);
            padding: 18px 22px;
            border-radius: 15px;
            margin: 20px 0;
            text-align: center;
            border-left: 3px solid #0066ff;
            font-size: 1rem;
            position: relative;
            border: 1px solid rgba(0, 150, 255, 0.2);
        }
        
        /* Round counter */
        .round-counter {
            text-align: center;
            margin: 15px 0; /* MARGIN KAMAYTIRILDI */
            font-size: 1.1rem; /* KICHIKROQ */
            background: rgba(255, 204, 0, 0.1);
            padding: 15px; /* PADDING KAMAYTIRILDI */
            border-radius: 15px;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 204, 0, 0.2);
        }

        /* Wait section */
        .wait-message {
            text-align: center;
            padding: 25px;
            background: rgba(255, 204, 0, 0.1);
            border-radius: 20px;
            margin: 25px 0;
            border-left: 3px solid #ffcc00;
            border: 1px solid rgba(255, 204, 0, 0.2);
        }

        /* Timer status */
        .timer-status {
            display: flex;
            justify-content: center;
            margin: 25px 0;
        }
        
        .timer-status-item {
            background: rgba(0, 200, 255, 0.1);
            padding: 22px 26px;
            border-radius: 20px;
            text-align: center;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(0, 200, 255, 0.2);
            min-width: 180px;
        }
        
        .timer-status-value {
            font-weight: 800;
            color: #ffcc00;
            font-size: 1.8rem;
            margin-top: 10px;
            font-family: 'Courier New', monospace;
        }

        /* Selection instruction */
        .selection-instruction {
            text-align: center;
            margin: 15px 0; /* MARGIN KAMAYTIRILDI */
            font-size: 0.9rem;
            color: #ffcc00;
            padding: 12px; /* PADDING KAMAYTIRILDI */
            background: rgba(255, 204, 0, 0.1);
            border-radius: 12px;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 204, 0, 0.2);
        }
        
        /* Share section */
        .share-section {
            text-align: center;
            margin: 25px 0;
        }

        .share-info {
            background: rgba(102, 0, 255, 0.1);
            border-left: 3px solid #6600ff;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border: 1px solid rgba(102, 0, 255, 0.2);
        }

        /* VIP Signal Section */
        .vip-section {
            background: rgba(255, 204, 0, 0.1);
            border-left: 3px solid #ffcc00;
            padding: 25px;
            border-radius: 20px;
            margin: 25px 0;
            border: 1px solid rgba(255, 204, 0, 0.2);
        }

        /* Money highlight */
        .money-highlight {
            color: #ffcc00;
            font-weight: 700;
        }

        /* Global change ID button */
        #globalChangeIdBtn {
            position: fixed;
            bottom: 25px;
            right: 25px;
            width: auto;
            padding: 14px 22px;
            border-radius: 50px;
            z-index: 1000;
            font-size: 0.9rem;
        }

        /* Alert notification */
        .alert-notification {
            background: rgba(255, 193, 7, 0.1);
            border-left: 3px solid #ffc107;
            padding: 16px;
            border-radius: 15px;
            margin: 16px 0;
            border: 1px solid rgba(255, 193, 7, 0.2);
            font-size: 0.9rem;
        }

        /* Game section header - LOGOTIP OLIB TASHLANDI */
        #gameSection > h2 {
            text-align: center;
            margin-bottom: 15px;
            color: #00ccff;
        }

        #gameSection > p {
            text-align: center;
            margin-bottom: 20px;
        }

        /* Responsive design */
        @media (min-width: 768px) {
            /* Desktop uchun olmalar kattaroq */
            .mystery-apple, .apple {
                width: 65px !important;
                height: 65px !important;
                min-width: 65px !important;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 1.6rem;
            }
            
            .subtitle {
                font-size: 0.9rem;
            }
            
            .apple-icon {
                font-size: 2.8rem;
            }
            
            /* Mobile uchun olmalar konteyneri */
            .apples-container {
                gap: 6px; /* GAP KAMAYTIRILDI */
                padding: 12px;
                justify-content: center; /* MARKAZGA */
            }
            
            /* Mobile uchun olmalar o'lchami */
            .mystery-apple, .apple {
                width: 50px !important;
                height: 50px !important;
                min-width: 50px !important;
            }
            
            .timer-status-value {
                font-size: 1.4rem;
            }
            
            #globalChangeIdBtn {
                bottom: 18px;
                right: 18px;
                padding: 12px 18px;
                font-size: 0.8rem;
            }
            
            .language-logo {
                width: 80px;
                height: 80px;
            }
            
            .language-logo span {
                font-size: 40px;
            }
            
            #languageSelector h1 {
                font-size: 1.8rem;
            }
            
            .action-buttons .btn {
                padding: 12px;
                font-size: 0.9rem;
            }

            /* Game section uchun responsive */
            #gameSection .card {
                padding: 20px 15px;
            }

            .round-counter {
                margin: 10px 0;
                padding: 12px;
                font-size: 1rem;
            }

            .user-id-display {
                margin: 15px 0;
                padding: 15px;
            }
        }

        @media (max-width: 360px) {
            /* Kichik telefonlar uchun */
            .mystery-apple, .apple {
                width: 45px !important;
                height: 45px !important;
                min-width: 45px !important;
            }
            
            .apples-container {
                gap: 4px;
                padding: 10px;
            }
            
            .timer-status-value {
                font-size: 1.3rem;
            }
            
            .btn {
                padding: 12px;
                font-size: 0.85rem;
            }
            
            #globalChangeIdBtn {
                padding: 10px 16px;
                font-size: 0.75rem;
            }
            
            .card {
                padding: 18px;
            }
        }

        @media (max-width: 320px) {
            .mystery-apple, .apple {
                width: 42px !important;
                height: 42px !important;
                min-width: 42px !important;
            }
            
            .apples-container {
                gap: 3px;
                padding: 8px;
            }
        }

        /* Scrollbar styling */
        .apples-container::-webkit-scrollbar {
            height: 5px;
        }

        .apples-container::-webkit-scrollbar-track {
            background: rgba(0, 100, 255, 0.05);
            border-radius: 10px;
        }

        .apples-container::-webkit-scrollbar-thumb {
            background: rgba(0, 150, 255, 0.2);
            border-radius: 10px;
        }

        .apples-container::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 150, 255, 0.3);
        }

        /* For Firefox */
        .apples-container {
            scrollbar-width: thin;
            scrollbar-color: rgba(0, 150, 255, 0.2) rgba(0, 100, 255, 0.05);
        }
    </style>
</head>
<body>
    <!-- Background elements -->
    <div class="nebula-bg"></div>
    <div class="network-grid"></div>

    <!-- Language Selector -->
    <div id="languageSelector">
        <div class="language-logo">
            <span>üçé</span>
        </div>
        <h1>Apple of Fortune</h1>
        <p id="languagePrompt">Premium trading signals platformasi. Boshlash uchun tilni tanlang</p>
        
        <div class="language-buttons">
            <button class="lang-select-btn" data-lang="uz">
                <span>üá∫üáø</span> O'zbekcha
            </button>
            <button class="lang-select-btn" data-lang="ru">
                <span>üá∑üá∫</span> –†—É—Å—Å–∫–∏–π
            </button>
            <button class="lang-select-btn" data-lang="en">
                <span>üá∫üá∏</span> English
            </button>
        </div>
    </div>

    <!-- Language Switcher -->
    <div class="language-switcher hidden" id="languageSwitcher">
        <span>üåê</span>
        <span id="currentLanguage">O'zbekcha</span>
    </div>

    <div class="container">
        <!-- Header - FAKAT ASOSIY MENYUDA KORINADI -->
        <header>
            <div class="apple-icon" id="appleIcon">üçé</div>
            <h1 id="mainTitle">Apple of Fortune</h1>
            <p class="subtitle" id="tagline">Professional AI Trading Signals Platformasi</p>
        </header>
        
        <!-- Main Menu -->
        <div class="card" id="mainMenu">
            <h2 id="welcomeTitle">üöÄ Signal Tizimiga Xush Kelibsiz</h2>
            <p id="welcomeText">Premium AI savdo signallariga kirish. Maksimal foyda olish uchun <span class="money-highlight">AIFUT</span> promokodi bilan ro'yxatdan o'ting!</p>
            
            <div class="alert-notification">
                <p><strong>üí° Ogohlantirish:</strong> Signal olish uchun avval ro'yxatdan o'tish tavsiya etiladi. Agar ro'yxatdan o'tmagan bo'lsangiz, pastdagi "Ro'yxatdan O'tish" tugmasini bosing. AIFUT promokodi orqali korsatilgan bukmekerlardan ro'yhatdan o'tgan bolsangiz signal olish tugmasini bosib signal olishingiz mumkin</p>
            </div>
            
            <div class="action-buttons">
                <button class="btn register-btn" id="registerBtn">
                    <span>üìã</span> <span id="registerBtnText">RO'YXATDAN O'TISH</span>
                </button>
                <button class="btn start-game-btn" id="signalBtn">
                    <span>üì°</span> <span id="signalBtnText">SIGNAL OLISH</span>
                </button>
                <button class="btn download-btn" id="downloadBtn">
                    <span>üì•</span> <span id="downloadBtnText">APK YUKLASH</span>
                </button>
            </div>
        </div>
        
        <!-- Login Section -->
        <div class="card hidden" id="loginSection">
            <h2 id="gameStartTitle">üîë ID Raqamingizni Kiriting</h2>
            <p id="earnStartText">Premium savdo signallariga kirish uchun ID raqamingizni kiriting. <span class="money-highlight">AIFUT promokodi orqali royhatdan otishni unutmang </span></p>
            
            <div class="info-box">
                <p><strong>‚ÑπÔ∏è Ma'lumot:</strong> Signallarni 1 kunda 2 marotaba olish mumkin agar koproq aniqlikdagi signal olish uchun vip signal olish tavsiya qilinadi.</p>
            </div>
            
            <div class="form-group">
                <label for="userId" id="userIdLabel">ID RAQAMINGIZ</label>
                <input type="text" id="userId" placeholder="ID raqamingizni kiriting ..." maxlength="11" value="">
                <div class="error-message" id="idError">Iltimos, ID raqamni to'gri kiriting</div>
            </div>
            
            <button class="btn start-game-btn" id="startGameBtn">
                <span id="startGameBtnText">SIGNAL OLISHNI BOSHLASH</span>
            </button>
            
            <div class="action-buttons">
                <button class="btn register-btn" id="backToMenuBtn">
                    ‚Üê <span id="backToMenuText">ASOSIY MENYU</span>
                </button>
                <button class="btn download-btn" id="goToRegisterBtn">
                    üìã <span>RO'YXATDAN O'TISH</span>
                </button>
            </div>
        </div>
        
        <!-- Warning Section -->
        <div id="warningSection" class="card hidden">
            <h2 id="warningTitle">‚ö†Ô∏è MUHIM ESLASTIRISH</h2>
            <div class="warning">
                <p><strong id="warningText1">Aniq signallar olish uchun ID raqamingiz AIFUT promokodi bilan ro'yxatdan o'tgan bo'lishi tavsiya etiladi!</strong></p>
                <p id="warningText2">Kunlik yetarli foyda oling. Premium signallar uchun AIFUT promokodi bilan ro'yxatdan o'tish tavsiya etiladi.</p>
            </div>
            
            <div class="user-id-display">
                <strong id="yourIdText">trade uchun ID RAQAMINGIZ:</strong> <span id="displayUserId"></span>
            </div>
            
            <button class="btn change-id-btn" id="changeIdBtn">
                <span id="changeIdText">üîÑ ID O'ZGARTIRISH</span>
            </button>
            
            <p id="readyText" class="money-highlight">Daromad olishni boshlashga tayyormisiz? Keling, boshlaymiz!</p>
            <button class="btn start-game-btn" id="confirmStartBtn">
                <span id="confirmStartText">üöÄ SIGNAL OLISHNI BOSHLANG</span>
            </button>
        </div>
        
        <!-- Game Section - LOGOTIP OLIB TASHLANDI -->
        <div id="gameSection" class="card hidden">
            <!-- Logotip olib tashlandi -->
            <!-- <h2 id="gameTitle">üçé Apple of Fortune</h2> -->
            
            <div class="round-counter">
                <span id="signalLabel">SIGNAL RAUNDI:</span> <span id="roundCounter">1</span>
            </div>
            
            <div class="user-id-display">
                <strong id="yourIdText2">ID RAQAMINGIZ:</strong> <span id="gameUserId"></span>
            </div>
            
            <p id="gameInstruction">Keyingi bosqichga o'tish uchun butun olmalarni tanlang. Tishlangan olmalar o'yinni yakunlaydi!</p>
            
            <!-- APPLES CONTAINER - MARKAZDA -->
            <div class="apples-container" id="applesContainer">
                <!-- Apples will be generated here -->
            </div>
            
            <button class="btn reveal-btn" id="revealBtn">
                üëÄ <span id="revealBtnText">OLMALARNI KORISH</span>
            </button>
            
            <div class="selection-instruction hidden" id="selectionInstruction">
                üéØ <span id="selectionText">BUTUN OLMALARNI TANLANG (AVTOMATIK RAVISHDA KEYINGI BOSQICHGA OTILADI)</span>
            </div>
            
            <div id="resultMessage" class="result-message hidden"></div>
            
            <button class="btn hidden" id="restartBtn">
                üîÑ <span id="restartBtnText">QAYTA URINISH</span>
            </button>
        </div>

        <!-- Wait Section -->
        <div id="waitSection" class="card hidden">
            <h2 id="waitTitle">üéâ TABRIKLAYMIZ!</h2>
            <div class="wait-message">
                <p><strong id="gameEndText">O'yin <span id="endRound"></span>-raundda yakunlandi!</strong></p>
                <p id="riskWarning">Keyingi bosqichlar yuqori xavfga ega. Foydangizni himoya qiling va keyingi signal oling!</p>
                <p id="signalLimitText">Ushbu ID uchun signal limiti yakunlandi. Keyingi signal <span id="countdown">180:00</span> daqiqadan so'ng mavjud</p>
                <p class="money-highlight" id="highRiskText">Qolgan bosqichlarda yuqori xavf! Foydangizni himoya qiling!</p>
            </div>

            <!-- Timer Status -->
            <div class="timer-status">
                <div class="timer-status-item">
                    <div id="nextSignalText">KEYINGI SIGNALGACHA:</div>
                    <div class="timer-status-value" id="remainingTime">180:00</div>
                </div>
            </div>

            <!-- VIP Signal Section -->
            <div class="vip-section">
                <h3 id="premiumSignalText">‚≠ê HOZIR VIP SIGNAL OLING!</h3>
                <p><strong id="inviteText">Kutishni o'tkazib yuboring! Darhol 100% aniq VIP signal oling!</strong></p>
                <p id="vipSignalText">20 ta do'stingizni taklif qiling va darhol VIP signal oling!</p>
                <button class="btn vip-signal-btn" id="vipSignalBtn">
                    <span id="getVipText">üöÄ HOZIR VIP SIGNAL OLING</span>
                </button>
            </div>

            <!-- Share Section -->
            <div class="share-info">
                <p><strong>üí∞ DO'STLARINGIZNI TAKLIF QILIB YANA KO'PROQ FOYDA OLING!</strong></p>
                <p>Do'stlaringiz bilan ulashing va premium imtiyozlarga ega bo'ling. 20 kishini taklif qilib darhol VIP kirish oling!</p>
            </div>
            
            <div class="share-section">
                <button class="btn share-btn" id="shareDuringWaitBtn">
                    üì≤ <span id="shareBtnText">DO'STLARNI TAKLIF QILISH</span>
                </button>
            </div>
            
            <div class="user-id-display">
                <strong id="yourIdText3">ID RAQAMINGIZ:</strong> <span id="waitUserId"></span>
            </div>
        </div>
    </div>

    <!-- Global Change ID Button -->
    <button class="btn change-id-btn hidden" id="globalChangeIdBtn">
        üîÑ <span id="globalChangeIdText">ID O'ZGARTIRISH</span>
    </button>
    
    <!-- Hacker Animation -->
    <div id="hackerAnimation" class="hacker-animation hidden">
        <div class="matrix-code" id="matrixCode">SIGNAL TAHLILI AMALGA OSHIRILMOQDA...</div>
        <div class="progress-bar">
            <div class="progress" id="hackerProgress"></div>
        </div>
    </div>

    <script>
        // ==================== TRANSLATIONS ====================
        const translations = {
            uz: {
                languagePrompt: "Premium trading signals platformasi. Boshlash uchun tilni tanlang",
                currentLanguage: "O'zbekcha",
                mainTitle: "Apple of Fortune",
                tagline: "Professional AI Trading Signals Platformasi",
                welcomeTitle: "üöÄ Signal Tizimiga Xush Kelibsiz",
                welcomeText: "Premium AI savdo signallariga kirish. Maksimal foyda olish uchun <span class='money-highlight'>AIFUT</span> promokodi bilan ro'yxatdan o'ting!",
                signalBtnText: "SIGNAL OLISH",
                registerBtnText: "RO'YXATDAN O'TISH",
                downloadBtnText: "APK YUKLASH",
                gameStartTitle: "üîë ID Raqamingizni Kiriting",
                earnStartText: "Premium savdo signallariga kirish uchun ID raqamingizni kiriting. <span class='money-highlight'>Ro'yxatdan o'tmagansiz ham signal olishni boshlashingiz mumkin.</span>",
                userIdLabel: "ID RAQAMINGIZ",
                userIdPlaceholder: "ID raqamingizni kiriting ...",
                idError: "Iltimos, ID raqamni to'gri kiriting",
                startGameBtnText: "SIGNAL OLISHNI BOSHLASH",
                backToMenuText: "ASOSIY MENYU",
                warningTitle: "‚ö†Ô∏è MUHIM ESLASTIRISH",
                warningText1: "Aniq signallar olish uchun ID raqamingiz AIFUT promokodi bilan ro'yxatdan o'tgan bo'lishi tavsiya etiladi!",
                warningText2: "Kunlik yetarli foyda oling. Premium signallar uchun AIFUT promokodi bilan ro'yxatdan o'tish tavsiya etiladi.",
                yourIdText: "ID RAQAMINGIZ:",
                changeIdText: "üîÑ ID O'ZGARTIRISH",
                readyText: "Daromad olishni boshlashga tayyormisiz? Keling, boshlaymiz!",
                confirmStartText: "üöÄ SIGNAL OLISHNI BOSHLANG",
                gameTitle: "üçé Apple of Fortune",
                signalLabel: "SIGNAL RAUNDI:",
                yourIdText2: "ID RAQAMINGIZ:",
                gameInstruction: "Keyingi bosqichga o'tish uchun butun olmalarni tanlang. Tishlangan olmalar o'yinni yakunlaydi!",
                revealBtnText: "OLMALARNI KORISH",
                selectionText: "BUTUN OLMALARNI TANLANG (AVTOMATIK RAVISHDA KEYINGI BOSQICHGA OTILADI)",
                restartBtnText: "QAYTA URINISH",
                waitTitle: "üéâ TABRIKLAYMIZ!",
                gameEndText: "O'yin {round}-raundda yakunlandi!",
                riskWarning: "Keyingi bosqichlar yuqori xavfga ega. Foydangizni himoya qiling va keyingi signal oling!",
                signalLimitText: "Ushbu ID uchun signal limiti yakunlandi. Keyingi signal {time} daqiqadan so'ng mavjud",
                highRiskText: "Qolgan bosqichlarda yuqori xavf! Foydangizni himoya qiling!",
                nextSignalText: "KEYINGI SIGNALGACHA:",
                premiumSignalText: "‚≠ê HOZIR VIP SIGNAL OLING!",
                inviteText: "Kutishni o'tkazib yuboring! Darhol 100% aniq VIP signal oling!",
                vipSignalText: "20 ta do'stingizni taklif qiling va darhol VIP signal oling!",
                getVipText: "üöÄ HOZIR VIP SIGNAL OLING",
                shareBtnText: "DO'STLARNI TAKLIF QILISH",
                yourIdText3: "ID RAQAMINGIZ:",
                globalChangeIdText: "ID O'ZGARTIRISH",
                hackingText: "SIGNAL TAHLILI AMALGA OSHIRILMOQDA...",
                successMessage: "‚úÖ Butun olma! Keyingi bosqichga o'tilmoqda... üí∞",
                failureMessage: "‚ùå Tishlangan olma! O'yin {round}-raundda yakunlandi! Qayta urinib ko'ring! üîÑ",
                shareMessage: `Salom! Men Apple of Fortune platformasidan foydalanib katta foyda olaman! üöÄ

Premium AI savdo signallarini olish uchun qo'shiling:

üëâ t.me/Strategioyinlar_bot

üéØ AIFUT promokodi bilan ro'yxatdan o'ting va 200% bonus oling!

üí∞ Katta foyda sizni kutmoqda!

Mening ID raqamim: {userId}

#AppleFortune #AIFUT #SavdoSignallari`
            },
            
            ru: {
                languagePrompt: "–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø—Ä–µ–º–∏—É–º —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤. –í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫ –¥–ª—è –Ω–∞—á–∞–ª–∞",
                currentLanguage: "–†—É—Å—Å–∫–∏–π",
                mainTitle: "Apple of Fortune",
                tagline: "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ AI —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤",
                welcomeTitle: "üöÄ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É —Å–∏–≥–Ω–∞–ª–æ–≤",
                welcomeText: "–ü–æ–ª—É—á–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–µ–º–∏—É–º AI —Ç–æ—Ä–≥–æ–≤—ã–º —Å–∏–≥–Ω–∞–ª–∞–º. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —Å –ø—Ä–æ–º–æ–∫–æ–¥–æ–º <span class='money-highlight'>AIFUT</span> –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–∏–±—ã–ª–∏!",
                signalBtnText: "–ü–û–õ–£–ß–ò–¢–¨ –°–ò–ì–ù–ê–õ–´",
                registerBtnText: "–†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø",
                downloadBtnText: "–°–ö–ê–ß–ê–¢–¨ APK",
                gameStartTitle: "üîë –í–≤–µ–¥–∏—Ç–µ –≤–∞—à ID",
                earnStartText: "–í–≤–µ–¥–∏—Ç–µ –≤–∞—à ID –Ω–æ–º–µ—Ä –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–µ–º–∏—É–º —Ç–æ—Ä–≥–æ–≤—ã–º —Å–∏–≥–Ω–∞–ª–∞–º. <span class='money-highlight'>–í—ã –º–æ–∂–µ—Ç–µ –Ω–∞—á–∞—Ç—å –ø–æ–ª—É—á–∞—Ç—å —Å–∏–≥–Ω–∞–ª—ã –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã.</span>",
                userIdLabel: "–í–ê–® ID –ù–û–ú–ï–†",
                userIdPlaceholder: "–í–≤–µ–¥–∏—Ç–µ –≤–∞—à ID (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 1)...",
                idError: "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ ID –Ω–æ–º–µ—Ä",
                startGameBtnText: "–ù–ê–ß–ê–¢–¨ –ü–û–õ–£–ß–ï–ù–ò–ï –°–ò–ì–ù–ê–õ–û–í",
                backToMenuText: "–ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ",
                warningTitle: "‚ö†Ô∏è –í–ê–ñ–ù–û–ï –£–í–ï–î–û–ú–õ–ï–ù–ò–ï",
                warningText1: "–î–ª—è —Ç–æ—á–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —á—Ç–æ–±—ã –≤–∞—à ID –±—ã–ª –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω —Å –ø—Ä–æ–º–æ–∫–æ–¥–æ–º AIFUT!",
                warningText2: "–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ—Å—å –Ω–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–π –¥–Ω–µ–≤–Ω–æ–π –ø—Ä–∏–±—ã–ª–∏. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –ø—Ä–æ–º–æ–∫–æ–¥–æ–º AIFUT —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–µ–º–∏—É–º —Å–∏–≥–Ω–∞–ª–æ–≤.",
                yourIdText: "–í–ê–® ID:",
                changeIdText: "üîÑ –°–ú–ï–ù–ò–¢–¨ ID",
                readyText: "–ì–æ—Ç–æ–≤—ã –Ω–∞—á–∞—Ç—å –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å? –î–∞–≤–∞–π—Ç–µ –Ω–∞—á–Ω–µ–º!",
                confirmStartText: "üöÄ –ù–ê–ß–ê–¢–¨ –ü–û–õ–£–ß–ï–ù–ò–ï –°–ò–ì–ù–ê–õ–û–í",
                gameTitle: "üçé Apple of Fortune",
                signalLabel: "–†–ê–£–ù–î –°–ò–ì–ù–ê–õ–ê:",
                yourIdText2: "–í–ê–® ID:",
                gameInstruction: "–í—ã–±–∏—Ä–∞–π—Ç–µ —Ü–µ–ª—ã–µ —è–±–ª–æ–∫–∏ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å. –ù–∞–¥–∫—É—à–µ–Ω–Ω—ã–µ —è–±–ª–æ–∫–∏ –∑–∞–≤–µ—Ä—à–∞—Ç –∏–≥—Ä—É!",
                revealBtnText: "–ü–û–ö–ê–ó–ê–¢–¨ –Ø–ë–õ–û–ö–ò",
                selectionText: "–í–´–ë–ò–†–ê–ô–¢–ï –¶–ï–õ–´–ï –Ø–ë–õ–û–ö–ò (–ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò –ü–ï–†–ï–•–û–î–ò–¢ –ù–ê –°–õ–ï–î–£–Æ–©–ò–ô –£–†–û–í–ï–ù–¨)",
                restartBtnText: "–ü–û–ü–†–û–ë–û–í–ê–¢–¨ –°–ù–û–í–ê",
                waitTitle: "üéâ –ü–û–ó–î–†–ê–í–õ–Ø–ï–ú!",
                gameEndText: "–ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –Ω–∞ —Ä–∞—É–Ω–¥–µ {round}!",
                riskWarning: "–°–ª–µ–¥—É—é—â–∏–µ —É—Ä–æ–≤–Ω–∏ –∏–º–µ—é—Ç –≤—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫. –ó–∞—â–∏—Ç–∏—Ç–µ –≤–∞—à—É –ø—Ä–∏–±—ã–ª—å –∏ –ø–æ–ª—É—á–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π —Å–∏–≥–Ω–∞–ª!",
                signalLimitText: "–õ–∏–º–∏—Ç —Å–∏–≥–Ω–∞–ª–æ–≤ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –¥–ª—è —ç—Ç–æ–≥–æ ID. –°–ª–µ–¥—É—é—â–∏–π —Å–∏–≥–Ω–∞–ª –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ {time} –º–∏–Ω—É—Ç",
                highRiskText: "–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ –≤ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è —É—Ä–æ–≤–Ω—è—Ö! –ó–∞—â–∏—Ç–∏—Ç–µ –≤–∞—à—É –ø—Ä–∏–±—ã–ª—å!",
                nextSignalText: "–î–û –°–õ–ï–î–£–Æ–©–ï–ì–û –°–ò–ì–ù–ê–õ–ê:",
                premiumSignalText: "‚≠ê –ü–û–õ–£–ß–ò–¢–ï VIP –°–ò–ì–ù–ê–õ –°–ï–ô–ß–ê–°!",
                inviteText: "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç–µ –æ–∂–∏–¥–∞–Ω–∏–µ! –ü–æ–ª—É—á–∏—Ç–µ –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π 100% —Ç–æ—á–Ω—ã–π VIP —Å–∏–≥–Ω–∞–ª!",
                vipSignalText: "–ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ 20 –¥—Ä—É–∑–µ–π –∏ –ø–æ–ª—É—á–∏—Ç–µ VIP —Å–∏–≥–Ω–∞–ª –º–≥–Ω–æ–≤–µ–Ω–Ω–æ!",
                getVipText: "üöÄ –ü–û–õ–£–ß–ò–¢–¨ VIP –°–ò–ì–ù–ê–õ –°–ï–ô–ß–ê–°",
                shareBtnText: "–ü–†–ò–ì–õ–ê–°–ò–¢–¨ –î–†–£–ó–ï–ô",
                yourIdText3: "–í–ê–® ID:",
                globalChangeIdText: "–°–ú–ï–ù–ò–¢–¨ ID",
                hackingText: "–í–´–ü–û–õ–ù–Ø–ï–¢–°–Ø –ê–ù–ê–õ–ò–ó –°–ò–ì–ù–ê–õ–û–í...",
                successMessage: "‚úÖ –¶–µ–ª–æ–µ —è–±–ª–æ–∫–æ! –ü–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å... üí∞",
                failureMessage: "‚ùå –ù–∞–¥–∫—É—à–µ–Ω–Ω–æ–µ —è–±–ª–æ–∫–æ! –ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –Ω–∞ —Ä–∞—É–Ω–¥–µ {round}! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞! üîÑ",
                shareMessage: `–ü—Ä–∏–≤–µ—Ç! –Ø –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—é –±–æ–ª—å—à–∏–µ –¥–µ–Ω—å–≥–∏ —Å –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π Apple of Fortune! üöÄ

–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–µ–º–∏—É–º AI —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤:

üëâ t.me/Strategioyinlar_bot

üéØ –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —Å –ø—Ä–æ–º–æ–∫–æ–¥–æ–º AIFUT –∏ –ø–æ–ª—É—á–∏—Ç–µ 200% –±–æ–Ω—É—Å!

üí∞ –ë–æ–ª—å—à–∞—è –ø—Ä–∏–±—ã–ª—å –∂–¥–µ—Ç –≤–∞—Å!

–ú–æ–π ID –Ω–æ–º–µ—Ä: {userId}

#AppleFortune #AIFUT #–¢–æ—Ä–≥–æ–≤—ã–µ–°–∏–≥–Ω–∞–ª—ã`
            },
            
            en: {
                languagePrompt: "Premium trading signals platform. Select language to begin",
                currentLanguage: "English",
                mainTitle: "Apple of Fortune",
                tagline: "Professional AI Trading Signals Platform",
                welcomeTitle: "üöÄ Welcome to Signal System",
                welcomeText: "Get access to premium AI trading signals. Register with <span class='money-highlight'>AIFUT</span> promo code for maximum profits!",
                signalBtnText: "GET SIGNALS",
                registerBtnText: "REGISTER",
                downloadBtnText: "DOWNLOAD APK",
                gameStartTitle: "üîë Enter Your ID",
                earnStartText: "Enter your ID number to access premium trading signals. <span class='money-highlight'>You can start getting signals even if not registered.</span>",
                userIdLabel: "YOUR ID NUMBER",
                userIdPlaceholder: "Enter your ID (starts with 1)...",
                idError: "Please enter a id NUMBER",
                startGameBtnText: "START GETTING SIGNALS",
                backToMenuText: "MAIN MENU",
                warningTitle: "‚ö†Ô∏è IMPORTANT NOTICE",
                warningText1: "For accurate signals, it is recommended that your ID is registered with AIFUT promo code!",
                warningText2: "Stop at sufficient daily profits. Registration with AIFUT promo is recommended for premium signals.",
                yourIdText: "YOUR ID:",
                changeIdText: "üîÑ CHANGE ID",
                readyText: "Ready to start earning? Let's begin!",
                confirmStartText: "üöÄ START GETTING SIGNALS",
                gameTitle: "üçé Apple of Fortune",
                signalLabel: "SIGNAL ROUND:",
                yourIdText2: "YOUR ID:",
                gameInstruction: "Select whole apples to proceed to next level. Bitten apples will end the game!",
                revealBtnText: "REVEAL APPLES",
                selectionText: "SELECT WHOLE APPLES (AUTOMATICALLY PROCEEDS TO NEXT LEVEL)",
                restartBtnText: "TRY AGAIN",
                waitTitle: "üéâ CONGRATULATIONS!",
                gameEndText: "Game completed at Round {round}!",
                riskWarning: "Next levels have higher risk. Secure your profits and get next signal!",
                signalLimitText: "Signal limit reached for this ID. Next signal available in {time} minutes",
                highRiskText: "High risk in remaining levels! Secure your profits!",
                nextSignalText: "NEXT SIGNAL IN:",
                premiumSignalText: "‚≠ê GET VIP SIGNAL NOW!",
                inviteText: "Skip the wait! Get immediate 100% accurate VIP signal!",
                vipSignalText: "Invite 20 friends and receive VIP signal instantly!",
                getVipText: "üöÄ GET VIP SIGNAL NOW",
                shareBtnText: "INVITE FRIENDS",
                yourIdText3: "YOUR ID:",
                globalChangeIdText: "CHANGE ID",
                hackingText: "PERFORMING SIGNAL ANALYSIS...",
                successMessage: "‚úÖ Whole apple! Moving to next level... üí∞",
                failureMessage: "‚ùå Bitten apple! Game ended at Round {round}! Try again! üîÑ",
                shareMessage: `Hello! I'm earning big profits with Apple of Fortune platform! üöÄ

Join for premium AI trading signals:

üëâ t.me/Strategioyinlar_bot

üéØ Register with AIFUT promo code and get 200% bonus!

üí∞ Big profits await you!

My ID number: {userId}

#AppleFortune #AIFUT #TradingSignals`
            }
        };

        document.addEventListener('DOMContentLoaded', function() {
            // Current language
            let currentLang = localStorage.getItem('appleFortuneLanguage') || 'uz';
            
            // Get elements
            const languageSelector = document.getElementById('languageSelector');
            const container = document.querySelector('.container');
            const languageSwitcher = document.getElementById('languageSwitcher');
            const currentLanguage = document.getElementById('currentLanguage');
            const langSelectBtns = document.querySelectorAll('.lang-select-btn');
            const header = document.querySelector('header');
            
            // Main elements
            const mainMenu = document.getElementById('mainMenu');
            const loginSection = document.getElementById('loginSection');
            const startGameBtn = document.getElementById('startGameBtn');
            const registerBtn = document.getElementById('registerBtn');
            const downloadBtn = document.getElementById('downloadBtn');
            const signalBtn = document.getElementById('signalBtn');
            const backToMenuBtn = document.getElementById('backToMenuBtn');
            const goToRegisterBtn = document.getElementById('goToRegisterBtn');
            const warningSection = document.getElementById('warningSection');
            const confirmStartBtn = document.getElementById('confirmStartBtn');
            const gameSection = document.getElementById('gameSection');
            const applesContainer = document.getElementById('applesContainer');
            const revealBtn = document.getElementById('revealBtn');
            const resultMessage = document.getElementById('resultMessage');
            const restartBtn = document.getElementById('restartBtn');
            const roundCounter = document.getElementById('roundCounter');
            const waitSection = document.getElementById('waitSection');
            const countdownElement = document.getElementById('countdown');
            const remainingTimeElement = document.getElementById('remainingTime');
            const endRoundElement = document.getElementById('endRound');
            const waitUserId = document.getElementById('waitUserId');
            const shareDuringWaitBtn = document.getElementById('shareDuringWaitBtn');
            const vipSignalBtn = document.getElementById('vipSignalBtn');
            const hackerAnimation = document.getElementById('hackerAnimation');
            const matrixCode = document.getElementById('matrixCode');
            const hackerProgress = document.getElementById('hackerProgress');
            const idError = document.getElementById('idError');
            const userIdInput = document.getElementById('userId');
            const globalChangeIdBtn = document.getElementById('globalChangeIdBtn');
            const selectionInstruction = document.getElementById('selectionInstruction');
            const changeIdBtn = document.getElementById('changeIdBtn');
            const displayUserId = document.getElementById('displayUserId');
            const gameUserId = document.getElementById('gameUserId');

            // Variables
            let currentRound = 1;
            let gameActive = false;
            let currentUserId = '';
            let applesRevealed = false;
            let countdownInterval = null;
            let countdownTime = 180 * 60;
            let endRound = 0;
            let isShared = false;
            let vipUsed = false;

            // Round configuration
            const roundConfig = {
                1: { whole: 4, bitten: 1 },
                2: { whole: 4, bitten: 1 },
                3: { whole: 3, bitten: 2 },
                4: { whole: 3, bitten: 2 },
                5: { whole: 3, bitten: 2 },
                6: { whole: 2, bitten: 3 }
            };
            
            // Game end probabilities
            const roundEndProbabilities = {
                1: 0.02,
                2: 0.10,
                3: 0.40,
                4: 0.70,
                5: 0.90,
                6: 1.00
            };

            // ==================== FUNCTIONS ====================

            // Update translations
            function updateTranslations(lang) {
                const t = translations[lang];
                
                // Update all elements
                const elements = document.querySelectorAll('[id]');
                elements.forEach(element => {
                    const id = element.id;
                    if (t[id] !== undefined) {
                        if (element.tagName === 'INPUT' && element.placeholder !== '') {
                            element.placeholder = t[id];
                        } else {
                            let text = t[id];
                            if (text.includes('{round}')) {
                                text = text.replace('{round}', endRound || currentRound);
                            }
                            if (text.includes('{time}')) {
                                const minutes = Math.floor(countdownTime / 60);
                                const seconds = countdownTime % 60;
                                const timeString = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                                text = text.replace('{time}', timeString);
                            }
                            element.innerHTML = text;
                        }
                    }
                });
                
                // Update current language display
                currentLanguage.textContent = t.currentLanguage;
                
                // Save
                currentLang = lang;
                localStorage.setItem('appleFortuneLanguage', lang);
            }

            // Select language
            function selectLanguage(lang) {
                languageSelector.style.display = 'none';
                container.classList.add('active');
                languageSwitcher.classList.remove('hidden');
                updateTranslations(lang);
                loadSavedData();
            }

            // Switch language
            function switchLanguage() {
                container.classList.remove('active');
                languageSwitcher.classList.add('hidden');
                languageSelector.style.display = 'flex';
            }

            // Load saved data
            function loadSavedData() {
                const savedUserId = localStorage.getItem('appleFortuneUserId');
                const savedTimerEnd = localStorage.getItem('appleFortuneTimerEnd');
                const savedIsShared = localStorage.getItem('appleFortuneIsShared');
                const savedVipUsed = localStorage.getItem('appleFortuneVipUsed');
                
                // Show main menu first
                mainMenu.classList.remove('hidden');
                loginSection.classList.add('hidden');
                warningSection.classList.add('hidden');
                gameSection.classList.add('hidden');
                waitSection.classList.add('hidden');
                header.classList.remove('hidden'); // Header ko'rinadi
                
                if (savedUserId) {
                    userIdInput.value = savedUserId;
                    currentUserId = savedUserId;
                    
                    if (savedIsShared === 'true') {
                        isShared = true;
                    }
                    
                    if (savedVipUsed === 'true') {
                        vipUsed = true;
                    }
                    
                    if (savedTimerEnd) {
                        const now = Date.now();
                        const timerEnd = parseInt(savedTimerEnd);
                        
                        if (timerEnd > now) {
                            countdownTime = Math.floor((timerEnd - now) / 1000);
                            
                            if (vipUsed && countdownTime > 60 * 60) {
                                countdownTime = 60 * 60;
                            }
                            
                            mainMenu.classList.add('hidden');
                            header.classList.add('hidden'); // Header yashirinadi
                            waitSection.classList.remove('hidden');
                            globalChangeIdBtn.classList.remove('hidden');
                            waitUserId.textContent = savedUserId;
                            endRoundElement.textContent = localStorage.getItem('appleFortuneEndRound') || '1';
                            
                            updateTranslations(currentLang);
                            
                            startCountdown();
                            return;
                        } else {
                            localStorage.removeItem('appleFortuneTimerEnd');
                            localStorage.removeItem('appleFortuneEndRound');
                            localStorage.removeItem('appleFortuneIsShared');
                            localStorage.removeItem('appleFortuneVipUsed');
                            isShared = false;
                            vipUsed = false;
                        }
                    }
                }
            }
            
            // Validate user ID
            function validateUserId(userId) {
                const idRegex = /^1\d{8,10}$/;
                return idRegex.test(userId);
            }
            
            // Change user ID
            function changeUserId() {
                warningSection.classList.add('hidden');
                gameSection.classList.add('hidden');
                waitSection.classList.add('hidden');
                loginSection.classList.add('hidden');
                mainMenu.classList.remove('hidden');
                header.classList.remove('hidden'); // Header ko'rinadi
                globalChangeIdBtn.classList.add('hidden');
                
                userIdInput.value = '';
                userIdInput.focus();
                
                localStorage.removeItem('appleFortuneUserId');
                localStorage.removeItem('appleFortuneTimerEnd');
                localStorage.removeItem('appleFortuneEndRound');
                localStorage.removeItem('appleFortuneIsShared');
                localStorage.removeItem('appleFortuneVipUsed');
                currentUserId = '';
                isShared = false;
                vipUsed = false;
                
                currentRound = 1;
                
                if (countdownInterval) {
                    clearInterval(countdownInterval);
                }
            }
            
            // Start hacker animation
            function startHackerAnimation() {
                hackerAnimation.classList.remove('hidden');
                hackerProgress.style.width = '0%';
                
                const t = translations[currentLang];
                const codes = ['FROM in SeRver...', 'SIGNAL StetE...', 'iN PrOgreSIng...', 'in limite SiGnel...', t.hackingText || 'SUCCErd!'];
                let codeIndex = 0;
                
                const codeInterval = setInterval(() => {
                    matrixCode.textContent = codes[codeIndex];
                    codeIndex++;
                    
                    if (codeIndex >= codes.length) {
                        clearInterval(codeInterval);
                    }
                }, 600);
                
                setTimeout(() => {
                    hackerProgress.style.width = '100%';
                }, 100);
                
                setTimeout(() => {
                    hackerAnimation.classList.add('hidden');
                    startGame();
                }, 3000);
            }
            
            // Start game
            function startGame() {
                gameSection.classList.remove('hidden');
                header.classList.add('hidden'); // Header yashirinadi
                waitSection.classList.add('hidden');
                globalChangeIdBtn.classList.remove('hidden');
                gameUserId.textContent = currentUserId;
                roundCounter.textContent = currentRound;
                gameActive = false;
                applesRevealed = false;
                createMysteryApples();
            }
            
            // Create mystery apples
            function createMysteryApples() {
                applesContainer.innerHTML = '';
                resultMessage.classList.add('hidden');
                restartBtn.classList.add('hidden');
                selectionInstruction.classList.add('hidden');
                revealBtn.classList.remove('hidden');
                revealBtn.disabled = false;
                revealBtn.innerHTML = `üëÄ ${translations[currentLang].revealBtnText}`;
                
                for (let i = 0; i < 5; i++) {
                    const apple = document.createElement('div');
                    apple.className = 'mystery-apple';
                    applesContainer.appendChild(apple);
                }
            }
            
            // Reveal apples
            function revealApples() {
                applesContainer.innerHTML = '';
                
                const config = roundConfig[currentRound] || { whole: 2, bitten: 3 };
                const totalApples = 5;
                
                let apples = [];
                for (let i = 0; i < config.whole; i++) {
                    apples.push('whole');
                }
                for (let i = 0; i < config.bitten; i++) {
                    apples.push('bitten');
                }
                
                // Shuffle apples
                for (let i = apples.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [apples[i], apples[j]] = [apples[j], apples[i]];
                }
                
                // Create apples
                for (let i = 0; i < totalApples; i++) {
                    const apple = document.createElement('div');
                    const appleType = apples[i];
                    
                    apple.className = `apple ${appleType}`;
                    apple.dataset.index = i;
                    apple.dataset.type = appleType;
                    
                    apple.addEventListener('click', function() {
                        if (!gameActive) return;
                        selectApple(this);
                    });
                    
                    applesContainer.appendChild(apple);
                }
            }
            
            // Select apple
            function selectApple(appleElement) {
                const appleType = appleElement.dataset.type;
                gameActive = false;
                
                const t = translations[currentLang];
                
                if (appleType === 'bitten') {
                    endRound = currentRound;
                    resultMessage.textContent = t.failureMessage.replace('{round}', currentRound);
                    resultMessage.className = 'result-message failure';
                    resultMessage.classList.remove('hidden');
                    restartBtn.classList.remove('hidden');
                    selectionInstruction.classList.add('hidden');
                } else {
                    resultMessage.textContent = t.successMessage;
                    resultMessage.className = 'result-message success';
                    resultMessage.classList.remove('hidden');
                    selectionInstruction.classList.add('hidden');
                    
                    setTimeout(() => {
                        const endProbability = roundEndProbabilities[currentRound] || 0;
                        
                        if (Math.random() < endProbability) {
                            endRound = currentRound;
                            gameSection.classList.add('hidden');
                            startWaitSection();
                        } else if (currentRound < 6) {
                            currentRound++;
                            startHackerAnimation();
                        } else {
                            endRound = 6;
                            gameSection.classList.add('hidden');
                            startWaitSection();
                        }
                    }, 2000);
                }
            }
            
            // Start wait section
            function startWaitSection() {
                waitSection.classList.remove('hidden');
                globalChangeIdBtn.classList.remove('hidden');
                waitUserId.textContent = currentUserId;
                endRoundElement.textContent = endRound;
                
                updateTranslations(currentLang);
                
                const timerEndTime = Date.now() + (countdownTime * 1000);
                localStorage.setItem('appleFortuneTimerEnd', timerEndTime.toString());
                localStorage.setItem('appleFortuneEndRound', endRound.toString());
                
                startCountdown();
            }
            
            // Start countdown
            function startCountdown() {
                updateCountdown();
                
                if (countdownInterval) {
                    clearInterval(countdownInterval);
                }
                
                countdownInterval = setInterval(() => {
                    countdownTime--;
                    updateCountdown();
                    
                    const timerEndTime = Date.now() + (countdownTime * 1000);
                    localStorage.setItem('appleFortuneTimerEnd', timerEndTime.toString());
                    
                    if (countdownTime <= 0) {
                        clearInterval(countdownInterval);
                        localStorage.removeItem('appleFortuneTimerEnd');
                        localStorage.removeItem('appleFortuneEndRound');
                        localStorage.removeItem('appleFortuneIsShared');
                        localStorage.removeItem('appleFortuneVipUsed');
                        isShared = false;
                        vipUsed = false;
                        
                        waitSection.classList.add('hidden');
                        currentRound = 1;
                        startHackerAnimation();
                    }
                }, 1000);
            }
            
            // Update countdown
            function updateCountdown() {
                const minutes = Math.floor(countdownTime / 60);
                const seconds = countdownTime % 60;
                const timeString = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                countdownElement.textContent = timeString;
                remainingTimeElement.textContent = timeString;
            }
            
            // Get VIP signal
            function getVipSignal() {
                const t = translations[currentLang];
                const shareMessage = t.shareMessage.replace('{userId}', currentUserId);
                
                // Share via Telegram
                const shareUrl = `https://t.me/share/url?url=https://t.me/Strategioyinlar_bot&text=${encodeURIComponent(shareMessage)}`;
                window.open(shareUrl, '_blank');
                
                if (!vipUsed) {
                    countdownTime = 60 * 60;
                    vipUsed = true;
                    localStorage.setItem('appleFortuneVipUsed', 'true');
                    updateCountdown();
                    
                    alert(t.getVipText + ' - VIP signal aktivlashtirildi! Taymer 60 daqiqaga qisqartirildi!');
                } else {
                    alert('Siz bu sessiya uchun VIP signalni allaqachon ishlatgansiz!');
                }
            }
            
            // Share with friends
            function shareWithFriends() {
                const t = translations[currentLang];
                const shareMessage = t.shareMessage.replace('{userId}', currentUserId);
                
                const shareUrl = `https://t.me/share/url?url=https://t.me/Strategioyinlar_bot&text=${encodeURIComponent(shareMessage)}`;
                window.open(shareUrl, '_blank');
                
                countdownTime = Math.max(60 * 60, countdownTime - 1800);
                isShared = true;
                localStorage.setItem('appleFortuneIsShared', 'true');
                updateCountdown();
                
                alert('Do\'stlaringizni taklif qilganingiz uchun rahmat! yana bir nechta dost va siz vip signaldasiz!');
            }

            // ==================== EVENT LISTENERS ====================

            // Language selection buttons
            langSelectBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const lang = btn.dataset.lang;
                    selectLanguage(lang);
                });
            });

            // Language switcher
            languageSwitcher.addEventListener('click', switchLanguage);

            // SIGNAL button
            signalBtn.addEventListener('click', function() {
                mainMenu.classList.add('hidden');
                header.classList.add('hidden'); // Header yashirinadi
                loginSection.classList.remove('hidden');
                
                const savedUserId = localStorage.getItem('appleFortuneUserId');
                if (savedUserId) {
                    userIdInput.value = savedUserId;
                    currentUserId = savedUserId;
                    
                    if (validateUserId(savedUserId)) {
                        idError.style.display = 'none';
                        startGameBtn.disabled = false;
                    }
                }
                
                setTimeout(() => {
                    alert("‚ÑπÔ∏è Diqqat: signallarni aniq olish uchun AIFUT promokodi orqali royhatdan o'tgan bolishingiz shart signallar aniq ishlashi uchun promokod oyinchisi bolishingiz kerak");
                }, 300);
            });

            // REGISTER button (main menu)
            registerBtn.addEventListener('click', function() {
                window.open('https://superlative-twilight-47ef34.netlify.app/', '_blank');
                alert("Ro'yxatdan o'tish sahifasiga yo'naltirildi! Ro'yxatdan o'tgach, AIFUT promokodi bilan to'liq imtiyozlarga ega bo'lasiz.");
            });

            // REGISTER button (login section)
            goToRegisterBtn.addEventListener('click', function() {
                window.open('https://superlative-twilight-47ef34.netlify.app/', '_blank');
                alert("Ro'yxatdan o'tish sahifasiga yo'naltirildi! Ro'yxatdan o'tgach, AIFUT promokodi orqali katta bonuslar oling.");
            });

            // Back to main menu
            backToMenuBtn.addEventListener('click', function() {
                loginSection.classList.add('hidden');
                warningSection.classList.add('hidden');
                mainMenu.classList.remove('hidden');
                header.classList.remove('hidden'); // Header ko'rinadi
            });

            // ID input validation
            userIdInput.addEventListener('input', function() {
                const userId = this.value.trim();
                if (userId === '') {
                    idError.style.display = 'none';
                    startGameBtn.disabled = false;
                } else if (!validateUserId(userId)) {
                    idError.style.display = 'block';
                    startGameBtn.disabled = true;
                } else {
                    idError.style.display = 'none';
                    startGameBtn.disabled = false;
                }
            });
            
            // APK download button
            downloadBtn.addEventListener('click', function() {
                const t = translations[currentLang];
                alert(t.downloadBtnText + ' - APK yuklash havolasi tez orada mavjud bo\'ladi!');
            });
            
            // Change ID buttons
            changeIdBtn.addEventListener('click', changeUserId);
            globalChangeIdBtn.addEventListener('click', changeUserId);
            
            // Start game button
            startGameBtn.addEventListener('click', function() {
                const userId = userIdInput.value.trim();
                
                if (userId === '') {
                    alert(translations[currentLang].userIdLabel + ' kiritilmadi!');
                    return;
                }
                
                if (!validateUserId(userId)) {
                    alert('ID raqam togri bo\'lishi kerak!');
                    return;
                }
                
                currentUserId = userId;
                localStorage.setItem('appleFortuneUserId', userId);
                displayUserId.textContent = userId;
                
                loginSection.classList.add('hidden');
                header.classList.add('hidden'); // Header yashirinadi
                warningSection.classList.remove('hidden');
                globalChangeIdBtn.classList.remove('hidden');
            });
            
            // Confirm button
            confirmStartBtn.addEventListener('click', function() {
                warningSection.classList.add('hidden');
                startHackerAnimation();
            });
            
            // Reveal apples button
            revealBtn.addEventListener('click', function() {
                if (applesRevealed) return;
                
                applesRevealed = true;
                revealBtn.disabled = true;
                revealBtn.innerHTML = `üéØ ${translations[currentLang].selectionText}`;
                selectionInstruction.classList.remove('hidden');
                gameActive = true;
                revealApples();
            });
            
            // Restart button
            restartBtn.addEventListener('click', function() {
                currentRound = 1;
                startHackerAnimation();
            });
            
            // VIP signal button
            vipSignalBtn.addEventListener('click', getVipSignal);
            
            // Share button during wait
            shareDuringWaitBtn.addEventListener('click', shareWithFriends);
            
            // ==================== INITIALIZATION ====================
            
            // Check saved language
            const savedLang = localStorage.getItem('appleFortuneLanguage');
            if (savedLang) {
                selectLanguage(savedLang);
            } else {
                // Show language selector
                languageSelector.style.display = 'flex';
            }
        });
    </script>
</body>
</html>

